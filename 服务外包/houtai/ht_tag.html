<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>会议室管理中心</title>
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="shortcut icon" href="favicon_16.ico"/>
    <!-- <link rel="bookmark" href="favicon_16.ico"/> -->
    <!-- site css -->
    <link rel="stylesheet" href="layui/css/layui.css"  media="all">
    <link rel="stylesheet" href="dist/css/site.min.css">
    <link rel="stylesheet" href="dist/css/me.css">
    <script src="layui/layui.js" charset="utf-8" type="text/javascript"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements. All other JS at the end of file. -->
    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript" src="dist/js/site.min.js"></script>
    <script src="dist/js/jquery-3.3.1.min.js"></script>
    <script src="dist/js/vue.min.js"></script>
</head>

<body>

<!-- 顶部导航 -->
<div class="headerpage"></div>
<!--顶部导航 over-->

<div class="container-fluid">
    <!--documents内容-->
    <div class="row row-offcanvas row-offcanvas-left">
        <!--内容左边导航-->
        <div class="col-xs-6 col-sm-3 sidebar-offcanvas" role="navigation">
            <ul class="list-group panel">
                <li class="list-group-item"><i class="glyphicon glyphicon-align-justify"></i> <b>功能</b></li>
                <li class="list-group-item"><input type="text" class="form-control search-query" placeholder="查找功能"></li>
                <li class="active">
                    <a href="ht_index.html" class="list-group-item"><i class="glyphicon glyphicon-home"></i>主界面 </a>
                </li>
                <li>
                    <a href="#xitong" class="list-group-item " data-toggle="collapse">
                        <i class="glyphicon glyphicon-cog"></i>系统管理
                        <span class="glyphicon glyphicon-chevron-right"></span>
                    </a>
                    <div class="collapse" id="xitong">
                        <a href="ht_account.html" class="list-group-item">账号管理</a>
                        <a href="ht_company.html" class="list-group-item">雇主信息</a>
                        <a href="ht_notice.html" class="list-group-item">公告管理</a>
                    </div>
                </li>

                <li>
                    <a href="#huiyi" class="list-group-item" data-toggle="collapse">
                        <i class="glyphicon glyphicon-calendar"></i>会议管理
                        <span class="glyphicon glyphicon-chevron-right"></span>
                    </a>
                    <div class="collapse" id="huiyi">
                        <a href="ht_shenhe.html" class="list-group-item">会议审核</a>
                        <a href="ht_meet.html" class="list-group-item">会议室管理</a>
                        <a href="ht_tag.html" class="list-group-item">会议室标签</a>
                    </div>
                </li>
                <li>
                    <a href="ht_users.html" class="list-group-item">
                        <i class="glyphicon glyphicon-user"></i>成员管理
                    </a>
                </li>
                <li>
                    <a href="ht_service.html" class="list-group-item">
                        <i class="glyphicon glyphicon-flash"></i>客户服务
                    </a>
                </li>
                <li>
                    <a href="#" class="list-group-item">
                        <i class="glyphicon glyphicon-bell"></i>今日详情
                    </a>
                </li>
                <li>
                    <a href="#" class="list-group-item">
                        <i class="glyphicon glyphicon-indent-left"></i>查询分析
                    </a>
                </li>
            </ul>
        </div>


        <!--右边内容-->
        <div class="col-xs-12 col-sm-9 content"  >
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title"><a href="javascript:void(0);" class="toggle-sidebar"><span class="fa fa-angle-double-left" data-toggle="offcanvas" title="Maximize Panel"></span></a> 审核预约</h3>
                    <!--<a href="#">刷新</a>-->
                </div>
                <div class="panel-body" style="height: 450px" id="tags">
                    <h5>添加标签：</h5>
                    <div class="content-row">
                        <div class="col-md-1">

                        </div>
                        <div class="col-md-6">
                            <input class="form-control input-lg" type="text" v-model="tag" @keyup.13="add">
                        </div>
                        <div class="col-md-3">
                            <button class="btn btn-info btn-block" style="margin-top: 3px" @click="add">添加</button>
                        </div>
                    </div>

                    <div class="content-row">
                        <div class="col-md-12">
                            <h5 class="me_center 44me_margin_mtop">所有标签</h5>
                        </div>
                        <div class="col-md-12" >
                            <div class="tag" v-for="(item,i) in tags" @mouseenter="enter" @click="del(item)"
                                 data-toggle="tooltip" data-placement="left" title="点击删除">
                                {{item.name}}
                            </div>
                        </div>
                    </div>
                </div><!-- panel body -->
            </div>
        </div><!-- content -->
    </div>
</div>

<!--footer-->
<div class="footerpage"></div>
<!--footer over-->

<script>
    $(function(){
        /*公共部分
         * 导航栏
         * footer
         * 侧边栏
         */
        $(".headerpage").load("./page/header.html");
        // $(".leftpage").load("./page/main_left.html");
        $(".footerpage").load("./page/footer.html");
    });


    var vm = new Vue({
        el: '#tags',
        data: {
            tags: [
                {id: null, name: null}
            ]
            ,tag: ""
        },
        methods: {
            add(){
                if(this.tag!=""||this.tag!=null){
                    var tagdata = {
                        name: this.tag
                    };
                    $.ajax({
                        type: "POST"
                        ,url:"http://lsudjh.top:8081/tag/add"
                        , contentType: 'application/json; charset=utf-8'
                        ,data: JSON.stringify(tagdata)
                        ,dataType: "json"
                        ,success:function(result){
                            vm.tag = "";
                            alert(result.msg);
                            vm.getAll({});
                        }
                        ,error: function (message) {
                            alert(message);
                            vm.tag = "";
                        }
                    });

                }


            },
            getAll(data){
                $.ajax({
                    type: "POST"
                    ,url:"http://lsudjh.top:8081/tag/listEntity"
                    , contentType: 'application/json; charset=utf-8'
                    ,data: JSON.stringify(data)
                    ,dataType: "json"
                    ,success:function(result){
                        vm.tags = result.data.data;
                    }
                });
            },
            del(item){
                var data = {
                    id : item.id
                };
                $.ajax({
                    type: "POST"
                    ,url:"http://lsudjh.top:8081/tag/delete"
                    ,contentType: 'application/json; charset=utf-8'
                    ,data: JSON.stringify(data)
                    ,dataType: "json"
                    ,success:function(result){
                        alert(result.msg);
                        vm.getAll({});
                    }
                    ,error: function (message) {
                        alert(message);
                    }
                });
            },
            enter(){

            }
        },
        created(){
            var datalist = {};
            this.getAll(datalist);
        }
    })
</script>
</body>
</html>
